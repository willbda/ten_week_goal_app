{% extends "base.html" %}

{% block title %}Add Value - Ten Week Goal App{% endblock %}

{% block header %}Add Value{% endblock %}

{% block breadcrumb %}
<p><a href="/">Home</a> > <a href="/values">Values</a> > Add</p>
{% endblock %}

{% block content %}
<h2>Create New Value</h2>

<form method="POST" action="/values/add">
    <div>
        <label for="incentive_type">Value Type:</label>
        <select id="incentive_type" name="incentive_type" required onchange="toggleAlignmentGuidance()">
            <option value="">-- Select Type --</option>
            <option value="general">General Value</option>
            <option value="major">Major Value</option>
            <option value="highest_order">Highest Order Value</option>
            <option value="life_area">Life Area</option>
        </select>
        <p><small>Major Values require regular tracking. General Values are aspirational. Life Areas are organizational domains.</small></p>
    </div>

    <div>
        <label for="title">Name:</label>
        <input type="text" id="title" name="title" required placeholder="What do you call this value?">
    </div>

    <div>
        <label for="description">Description:</label>
        <textarea id="description" name="description" rows="3" required placeholder="What does this value mean to you?"></textarea>
    </div>

    <div>
        <label for="life_domain">Life Domain:</label>
        <input type="text" id="life_domain" name="life_domain" value="General" placeholder="e.g., Health, Career, Relationships">
        <p><small>Optional: Categorize this value into a life domain</small></p>
    </div>

    <div>
        <label for="priority">Priority:</label>
        <input type="number" id="priority" name="priority" min="1" max="100">
        <p><small>1 is highest priority for you and 100 is lowest priority</small></p>
    </div>

    <div id="alignment_guidance_section" style="display: none;">
        <label for="alignment_guidance">Alignment Guidance:</label>
        <textarea id="alignment_guidance" name="alignment_guidance" rows="3" placeholder="How does this value show up in your actions and goals?"></textarea>
        <p><small>For Major Values only: Describe how this value is actionable for you</small></p>
    </div>

    <div>
        <button type="submit">Create Value</button>
        <a href="/values">Cancel</a>
    </div>
</form>

<script>
function toggleAlignmentGuidance() {
    const valueType = document.getElementById('incentive_type').value;
    const alignmentSection = document.getElementById('alignment_guidance_section');

    if (valueType === 'major') {
        alignmentSection.style.display = 'block';
    } else {
        alignmentSection.style.display = 'none';
    }
}
</script>
{% endblock %}
